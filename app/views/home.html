<div ng-controller="homeController">
  <aside id="bar"><!-- Sidebar content -->

    <div class="search"><!--Search-->
      <h2>Search and Filter</h2>
      Search: <input type="text" ng-model="search"/>
      Search by title: <input type="text" ng-model="search.title"/>
      Search is {{search}}
    </div>

    <div class="form"><!--New post form-->
      <h2>New Post</h2>
      Title: <input type="text" ng-model="newPost.title"/>
      Content: <input type="text" ng-model="newPost.content"/>
      Tags: <span ng-repeat="tag in tags">
        <br>
        <input type="checkbox" value="tag.id">{{tag.name}}</input>
      </span>
      <button ng-click="submitNewPost()">Create a new post</button>
      the new post is {{newPost}}
    </div>

  </aside><!--End sidebar content-->

  <main><!-- Posts go here -->

    <span class="allposts" ng-repeat="post in posts | filter:search:strict">
      <a ui-sref="show({id: post.id})">
        <h3>{{post.title}}</h3>
      </a>
      <small ng-repeat="tag_id in post.tag_ids">{{getTagName(tag_id)}}</small>
      <span>{{post.date | date:'EEEE'}}</span>
      <p>
        {{post.content}}
      </p>
    </span>
      {{tags}}
  </main><!-- End main content -->

</div>
